(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7abdcd61"],{"0d0b":function(e,t,r){"use strict";var n=r("314a"),a=r.n(n);a.a},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d3b7"),r("e6cf");function n(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,u,"next",e)}function u(e){n(o,a,i,s,u,"throw",e)}s(void 0)}))}}},"314a":function(e,t,r){},"96cf":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new O(n||[]);return i._invoke=E(e,r,o),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",p="executing",f="completed",h={};function m(){}function g(){}function v(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(R([])));w&&w!==r&&n.call(w,i)&&(b=w);var x=v.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){function t(r,a,i,o){var s=c(e[r],e,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}var r;function a(e,n){function a(){return new Promise((function(r,a){t(e,n,r,a)}))}return r=r?r.then(a,a):a()}this._invoke=a}function E(e,t,r){var n=l;return function(a,i){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw i;return S()}r.method=a,r.arg=i;while(1){var o=r.delegate;if(o){var s=L(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?f:d,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=f,r.method="throw",r.arg=u.arg)}}}function L(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=c(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){while(++a<e.length)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:S}}function S(){return{value:t,done:!0}}return g.prototype=x.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,r,n,a){var i=new k(u(t,r,n,a));return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=n}catch(a){Function("r","regeneratorRuntime = r")(n)}},aa53:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("信息管理")]),r("el-breadcrumb-item",[e._v("用户管理")])],1),r("el-card",[r("el-button",{staticClass:"add-btn",attrs:{type:"primary"}},[e._v("添加用户")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.usersdata,stripe:"",border:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120px"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),r("el-table-column",{attrs:{prop:"phone",label:"手机"}}),r("el-table-column",{attrs:{prop:"minute",label:"欠费金额",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.status?"免费使用":t.row.minute)+" ")]}}])}),r("el-table-column",{attrs:{label:"性别",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(-1===t.row.gender?"保密":1===t.row.gender?"男":"女"))])]}}])}),r("el-table-column",{attrs:{label:"身份",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["Asunat"===t.row.username?r("div",[e._v("超级管理员")]):r("div",[e._v(e._s(1===t.row.status?"管理员":0===t.row.status?"普通用户":"违规用户"))])]}}])}),r("el-table-column",{attrs:{label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dateformat")(t.row.createdate)))]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(r){return e.edituser(t.row._id)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(r){return e.removeuser(t.row._id)}}}),r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",circle:"",size:"small"},on:{click:function(r){return e.editstatus(t.row._id)}}})]}}])})],1),r("el-dialog",{attrs:{title:"status"===e.upstatus?"更改权限":"编辑用户",visible:e.dialogEdit,width:"40%"},on:{"update:visible":function(t){e.dialogEdit=t}}},[e.updateuser?r("el-form",{ref:"ruleFormedit",staticClass:"demo-ruleForm",attrs:{model:e.updateuser,rules:e.rulesedit,"label-width":"100px"}},[e.upstatus?r("div",[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticClass:"editinp-dis",attrs:{disabled:""},model:{value:e.updateuser.username,callback:function(t){e.$set(e.updateuser,"username",t)},expression:"updateuser.username"}})],1),r("el-form-item",{attrs:{label:"权限"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateuser.status,callback:function(t){e.$set(e.updateuser,"status",t)},expression:"updateuser.status"}},e._l(e.options,(function(t){return r("el-option",{key:t.value,attrs:{value:t.value,label:t.label,disabled:"Asunat"===e.updateuser.username}})})),1)],1)],1):r("div",[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.updateuser._id,expression:"!updateuser._id"}],attrs:{label:"id"}},[r("el-input",{staticClass:"editinp",model:{value:e.updateuser._id,callback:function(t){e.$set(e.updateuser,"_id",t)},expression:"updateuser._id"}})],1),r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticClass:"editinp",attrs:{disabled:""},model:{value:e.updateuser.username,callback:function(t){e.$set(e.updateuser,"username",t)},expression:"updateuser.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{staticClass:"editinp",model:{value:e.updateuser.email,callback:function(t){e.$set(e.updateuser,"email",t)},expression:"updateuser.email"}})],1),r("el-form-item",{attrs:{label:"手机"}},[r("el-input",{staticClass:"editinp",model:{value:e.updateuser.phone,callback:function(t){e.$set(e.updateuser,"phone",t)},expression:"updateuser.phone"}})],1),r("el-form-item",{attrs:{label:"gender"}},[r("el-input",{staticClass:"editinp",model:{value:e.updateuser.gender,callback:function(t){e.$set(e.updateuser,"gender",t)},expression:"updateuser.gender"}})],1),r("el-form-item",{attrs:{label:"region"}},[r("el-input",{staticClass:"editinp",model:{value:e.updateuser.region,callback:function(t){e.$set(e.updateuser,"region",t)},expression:"updateuser.region"}})],1)],1)]):e._e(),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.Edituser}},[e._v("确 定")])],1)],1),r("div",{staticClass:"pagenum"},[r("el-pagination",{attrs:{"current-page":e.queryinfo.pagenum,"page-sizes":[1,3,5,10],"page-size":e.queryinfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},a=[],i=(r("96cf"),r("1da1")),o=r("caad"),s={data:function(){return{usersdata:null,finuser:"/home/users",queryinfo:{query:{username:""},limit:5,pagenum:1},total:null,updateuser:null,rulesedit:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"长度为 11 个字符",trigger:"blur"}]},dialogEdit:!1,upstatus:"",options:[{value:"0",label:"普通用户"},{value:"1",label:"管理员"},{value:"2",label:"禁止登录"}]}},created:function(){this.getusers(),this.emitevent()},methods:{getusers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["b"])(e.finuser,e.queryinfo);case 2:if(r=t.sent,5!=r.code){t.next=5;break}return t.abrupt("return",e.$message({showClose:!0,message:r.msg,duration:1500,type:"error"}));case 5:1==r.code&&(e.usersdata=r.data,e.total=r.total);case 6:case"end":return t.stop()}}),t)})))()},emitevent:function(){this.$emit("finduser",this.finuser)},edituser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["b"])(t.finuser,{query:{_id:e},limit:"",pagenum:1});case 2:if(n=r.sent,a=n.data,5!=a.code){r.next=6;break}return r.abrupt("return",t.$message({showClose:!0,message:a.msg,duration:1500,type:"error"}));case 6:t.updateuser=a[0],t.upstatus="",t.dialogEdit=!0;case 9:case"end":return r.stop()}}),r)})))()},handleSizeChange:function(e){this.queryinfo.limit=e,this.getusers()},handleCurrentChange:function(e){this.queryinfo.pagenum=e,this.getusers()},removeuser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["a"])(t.finuser,{_id:e});case 2:n=r.sent,1===n&&t.getusers();case 4:case"end":return r.stop()}}),r)})))()},Edituser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.finuser,e.updateuser);case 2:if(r=t.sent,n=r.data,console.log(n),1===n.code){t.next=7;break}return t.abrupt("return",e.$message({message:n.msg,duration:1500,type:"error"}));case 7:e.$message({type:"success",message:n.msg,duration:1500}),e.getusers(),e.dialogEdit=!1;case 10:case"end":return t.stop()}}),t)})))()},editstatus:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.edituser(e);case 2:t.dialogEdit=!0,t.upstatus="status";case 4:case"end":return r.stop()}}),r)})))()}}},u=s,c=(r("0d0b"),r("2877")),l=Object(c["a"])(u,n,a,!1,null,"53ba94b0",null);t["default"]=l.exports},caad:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c}));r("d3b7"),r("96cf");var n=r("1da1"),a=r("bc3a"),i=r.n(a),o=r("5c96");i.a.defaults.baseURL="http://127.0.0.1:3000";var s=i.a.create({baseURL:"http://127.0.0.1:3000",timeout:"5000"});s.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return e.headers.common["Authorization"]="Bearer "+t,e}));var u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s({url:t,params:r});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),c=function(e,t){return new Promise((function(r){o["MessageBox"].confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.a.delete(e,{params:t});case 2:if(a=n.sent,s=a.data,1===s.code){n.next=8;break}return n.abrupt("return",o["Message"].error({showClose:!0,duration:1500,message:s.msg}));case 8:if(100!==s.code){n.next=10;break}return n.abrupt("return",o["Message"].error({showClose:!0,duration:1500,message:s.msg}));case 10:return o["Message"].success({showClose:!0,duration:1500,message:"删除成功"}),n.abrupt("return",r(s.code));case 12:case"end":return n.stop()}}),n)})))).catch((function(){o["Message"].info({showClose:!0,duration:1500,message:"已取消"})}))}))}}}]);
//# sourceMappingURL=chunk-7abdcd61.7096c1d6.js.map